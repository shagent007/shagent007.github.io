(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ac6f632"],{1681:function(t,e,a){},2491:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("page-title",{attrs:{heading:"Книга"}}),a("book-general-card",{model:{value:t.book,callback:function(e){t.book=e},expression:"book"}})],1)},r=[],o=(a("a9e3"),a("96cf"),a("1da1")),i=a("d4ec"),u=a("bee2"),c=a("262e"),s=a("2caf"),l=a("9ab4"),h=a("2b0e"),p=a("60a3"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-material-card",{staticClass:"v-card-profile mb-2",attrs:{avatar:"https://demos.creative-tim.com/vue-material-dashboard/img/marc.aba54d65.jpg"}},[a("v-card-title",{staticClass:"d-flex justify-end"},[a("div",{staticClass:"font-weight-regular text-subtitle-1 text-sm-h4 text-md-h3"},[t._v(" Основная информация ")])]),a("v-card-text",{staticClass:"text-center"},[a("v-text-field",{attrs:{value:t.value.title,label:"Названия"},on:{change:t.onChangeName}}),a("author-select",{model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),a("v-textarea",{attrs:{value:t.value.text,label:"Содержание"},on:{change:t.onChangeText}})],1)],1)},b=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-select",{attrs:{items:t.authors,label:"Автор","item-text":"name","item-value":"id"}})},v=[],g=a("37a4"),m=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.authors=new Array,t}return Object(u["a"])(a,[{key:"created",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g["a"].loadAuthors();case 2:this.authors=g["a"].getAuthors;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(h["a"]);Object(l["a"])([Object(p["b"])({required:!0,type:Number})],m.prototype,"value",void 0),m=Object(l["a"])([p["a"]],m);var j=m,O=j,w=a("2877"),y=a("6544"),x=a.n(y),k=a("b974"),C=Object(w["a"])(O,f,v,!1,null,null,null),A=C.exports;x()(C,{VSelect:k["a"]});var R=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.id=0,t}return Object(u["a"])(a,[{key:"onChangeName",value:function(t){this.value.title=t}},{key:"onChangeText",value:function(t){this.value.text=t}}]),a}(h["a"]);Object(l["a"])([Object(p["b"])({type:Object,required:!0})],R.prototype,"value",void 0),R=Object(l["a"])([Object(p["a"])({components:{AuthorSelect:A}})],R);var I=R,H=I,N=a("99d9"),T=a("8654"),G=a("a844"),V=Object(w["a"])(H,d,b,!1,null,null,null),$=V.exports;x()(V,{VCardText:N["b"],VCardTitle:N["c"],VTextField:T["a"],VTextarea:G["a"]});var _=a("0074"),z=a("0e9d"),E=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.book=new _["b"],t}return Object(u["a"])(a,[{key:"created",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["a"].books.getById(this.id);case 2:this.book=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onModelChange",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a||!a.id){t.next=3;break}return t.next=3,z["a"].books.update(this.id,e);case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()}]),a}(h["a"]);Object(l["a"])([Object(p["b"])({type:Number,required:!0})],E.prototype,"id",void 0),Object(l["a"])([Object(p["d"])("book",{deep:!0})],E.prototype,"onModelChange",null),E=Object(l["a"])([Object(p["a"])({components:{BookGeneralCard:$}})],E);var L=E,B=L,F=a("a523"),S=Object(w["a"])(B,n,r,!1,null,null,null);e["default"]=S.exports;x()(S,{VContainer:F["a"]})},"37a4":function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));a("96cf");var n=a("1da1"),r=a("d4ec"),o=a("bee2"),i=a("262e"),u=a("2caf"),c=a("9ab4"),s=a("6fc5"),l=a("0613"),h=a("0e9d"),p=function(t){Object(i["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.authors=new Array,t.loading=!1,t}return Object(o["a"])(a,[{key:"updateAuthors",value:function(t){this.authors=t}},{key:"updateLoading",value:function(t){this.loading=t}},{key:"loadAuthors",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return console.log("its working"),t.next=5,h["a"].authors.getAll();case 5:e=t.sent,this.updateAuthors(e),this.updateLoading(!0);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateList",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].authors.getAll();case 2:e=t.sent,this.updateAuthors(e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getAuthors",get:function(){return this.authors}}]),a}(s["d"]);Object(c["a"])([s["c"]],p.prototype,"updateAuthors",null),Object(c["a"])([s["c"]],p.prototype,"updateLoading",null),Object(c["a"])([Object(s["a"])({rawError:!0})],p.prototype,"loadAuthors",null),Object(c["a"])([Object(s["a"])({rawError:!0})],p.prototype,"updateList",null),p=Object(c["a"])([Object(s["b"])({store:l["a"],dynamic:!0,name:"author"})],p);var d=Object(s["e"])(p)},a844:function(t,e,a){"use strict";a("a9e3");var n=a("5530"),r=(a("1681"),a("8654")),o=a("58df"),i=Object(o["a"])(r["a"]);e["a"]=i.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(n["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},r["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=r["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){r["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-3ac6f632.5673a1fb.js.map